{% extends 'base.html' %}
{% load static %}

{% block body %}

<section class="contact-hero" aria-label="Contact header">
  <div class="contact-hero__overlay" style="background-image: url('{% if contact and contact.hero_image %}{{ contact.hero_image.url }}{% else %}{% static 'images/gal_1.png' %}{% endif %}');"></div>
  <div class="container">
    <div class="row align-items-center justify-content-center text-center">
      <div class="col-lg-8" data-aos="fade-up" data-aos-delay="100">
        <h1 class="contact-title">{{ contact.hero_title|default:"Contact Us" }}</h1>
        <p class="contact-subtitle">{{ contact.hero_subtitle|default:"We’d love to hear from you" }}</p>
      </div>
    </div>
  </div>
</section>

<section class="contact-page untree_co-section">
  <div class="container">
    <div class="row">

      <div class="col-12 col-lg-7 mb-5" data-aos="fade-up" data-aos-delay="150">
        <div class="glass-card contact-form-card">
          {% if submitted %}
          <p class="text-muted mb-0">{{ contact.thank_you_message|default:"Thanks for contacting us! We’ll reach out soon." }}</p>
          {% elif not contact or contact.form_enabled %}
          <h2 class="h3 fancy-heading mb-2">{{ contact.form_title|default:"Send us a Message" }}</h2>
          <p class="text-muted mb-4">{{ contact.form_subtitle|default:"Our team will get back to you shortly." }}</p>
          <form method="post" action="" class="zen-form" novalidate>
            {% csrf_token %}
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="cf_name">Full Name</label>
                <input id="cf_name" name="name" type="text" class="form-control zen-input" placeholder="Your full name">
              </div>
              <div class="form-group col-md-6">
                <label for="cf_email">Email</label>
                <input id="cf_email" name="email" type="email" class="form-control zen-input" placeholder="you@example.com">
              </div>
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="cf_phone">Phone Number</label>
                <input id="cf_phone" name="phone" type="tel" class="form-control zen-input" placeholder="+880 1XXXXXXXXX">
              </div>
              <div class="form-group col-md-6">
                <label for="cf_subject">Subject</label>
                <input id="cf_subject" name="subject" type="text" class="form-control zen-input" placeholder="What’s this about?">
              </div>
            </div>
            <div class="form-group">
              <label for="cf_message">Message</label>
              <textarea id="cf_message" name="message" rows="5" class="form-control zen-input" placeholder="Write your message…"></textarea>
            </div>
            <button type="submit" class="btn btn-primary zen-send-btn">Send Message</button>
          </form>
          {% else %}
          <p class="text-muted mb-0">{{ contact.thank_you_message|default:"Thanks for contacting us! We’ll reach out soon." }}</p>
          {% endif %}
        </div>
      </div>

      <div class="col-12 col-lg-5 mb-5" data-aos="fade-up" data-aos-delay="200">
        <div class="glass-card contact-info-card">
          <h3 class="h4 fancy-heading">Store & Office</h3>
          <ul class="list-unstyled contact-list mt-3">
            <li class="ci-item">
              <span class="ci-icon icon-room"></span>
              <div>
                <div class="ci-label">Address</div>
                <div class="ci-text">{{ contact.address|default:"H-31, Road 4, Block F, Sector 2, Aftabnagar, Dhaka, Bangladesh." }}</div>
              </div>
            </li>
            <li class="ci-item">
              <span class="ci-icon icon-phone"></span>
              <div>
                <div class="ci-label">Phone</div>
                <div class="ci-text">{{ contact.phone|default:"+880 1336046969" }}</div>
              </div>
            </li>
            <li class="ci-item">
              <span class="ci-icon icon-envelope"></span>
              <div>
                <div class="ci-label">Email</div>
                <div class="ci-text"><a href="mailto:{{ contact.email|default:"zenkobangladesh@gmail.com" }}">{{ contact.email|default:"zenkobangladesh@gmail.com" }}</a></div>
              </div>
            </li>
            <li class="ci-item">
              <span class="ci-icon icon-clock-o"></span>
              <div>
                <div class="ci-label">Open Hours</div>
                <div class="ci-text">{{ contact.open_hours|default:"Sunday – Friday, 10:00 AM – 5:00 PM" }}</div>
              </div>
            </li>
          </ul>

          <div class="mt-3">
            <a class="btn btn-outline-black locate-btn" href="{{ contact.map_embed_url|default:"https://maps.app.goo.gl/TYZG6RRGL9LZ7b1W9" }}" target="_blank" rel="noopener">Locate us</a>
          </div>

          <div class="map-embed mt-4">
            <iframe title="Zenko Location" loading="lazy" referrerpolicy="no-referrer-when-downgrade" src="{{ contact.map_embed_url|default:"https://www.google.com/maps?q=H-31,+Road+4,+Block+F,+Sector+2,+Aftabnagar,+Dhaka,+Bangladesh&output=embed" }}"></iframe>
          </div>
        </div>
      </div>
    </div>

    <div class="row" data-aos="fade-up" data-aos-delay="150">
      <div class="col-12">
        <div class="glass-card social-card text-center">
          <h3 class="h4 fancy-heading mb-3">Follow Us</h3>
          <div class="social-icons">
            {% if contact and contact.social_instagram %}
            <a href="{{ contact.social_instagram }}" class="social-icon" aria-label="Instagram" target="_blank" rel="noopener">
              <span class="icon-instagram"></span>
            </a>
            {% endif %}
            {% if contact and contact.social_facebook %}
            <a href="{{ contact.social_facebook }}" class="social-icon" aria-label="Facebook" target="_blank" rel="noopener">
              <span class="icon-facebook"></span>
            </a>
            {% endif %}
            {% if contact and contact.social_tiktok %}
            <a href="{{ contact.social_tiktok }}" class="social-icon" aria-label="TikTok" target="_blank" rel="noopener">
              <span class="icon-music"></span>
            </a>
            {% endif %}
            {% if contact and contact.social_pinterest %}
            <a href="{{ contact.social_pinterest }}" class="social-icon" aria-label="Pinterest" target="_blank" rel="noopener">
              <span class="icon-pinterest"></span>
            </a>
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-4" data-aos="fade-up" data-aos-delay="200">
      <div class="col-12">
        {% if not contact or contact.newsletter_enabled %}
        <div class="newsletter-banner">
          <div class="nb-overlay" style="background-image: url('{% if contact and contact.newsletter_image %}{{ contact.newsletter_image.url }}{% else %}{% static 'images/gal_1.png' %}{% endif %}');"></div>
          <div class="nb-content">
            <h3 class="nb-title">{{ contact.newsletter_title|default:"Stay in the Aroma" }}</h3>
            <p class="nb-sub">{{ contact.newsletter_subtitle|default:"Join our newsletter for exclusive launches and offers." }}</p>
            <form class="nb-form" action="#" method="post" onsubmit="event.preventDefault();">
              <input type="email" class="form-control nb-input" placeholder="Enter your email">
              <button class="btn btn-black nb-btn" type="submit">Subscribe</button>
            </form>
          </div>
        </div>
      </div>
    </div>
    {% endif %}
  </div>
</section>

<style>
/* Fonts: Playfair for headings (already loaded), Mulish body (from base) */
.contact-title, .fancy-heading, .nb-title { font-family: 'Playfair Display', serif; letter-spacing: .3px; }
.contact-subtitle, .ci-text, .nb-sub { font-family: 'Mulish', system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* Hero with soft gradient + subtle sparkle */
.contact-hero { position: relative; padding: 80px 0; background: linear-gradient(135deg, #ffe6f1 0%, #efe8ff 100%); overflow: hidden; }
.contact-hero__overlay { position:absolute; inset:0; background-size: cover; background-position: center; opacity:.10; filter: blur(2px); }
.contact-title { color:#231f20; font-size: 42px; font-weight: 700; margin-bottom: 6px; }
.contact-subtitle { color:#6b7280; font-size: 16px; }

/* Glassmorphism cards */
.glass-card { background: rgba(255,255,255,0.7); backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.35); border-radius: 16px; box-shadow: 0 10px 30px rgba(0,0,0,0.08); padding: 22px; }

/* Form */
.zen-form .form-group label { font-weight: 600; color:#374151; }
.zen-input { border-radius: 12px; border:1px solid #e5e7eb; background: rgba(255,255,255,.9); transition: box-shadow .2s, transform .15s; }
.zen-input:focus { outline: none; box-shadow: 0 0 0 4px rgba(199,105,168,.15), 0 10px 18px rgba(0,0,0,0.06); border-color:#c769a8; transform: translateY(-1px); }
.zen-send-btn { background: linear-gradient(135deg, #b84592, #c769a8); border:none; border-radius: 999px; padding: 10px 18px; font-weight: 700; box-shadow: 0 10px 18px rgba(184,69,146,0.25); transition: transform .15s, box-shadow .15s; }
.zen-send-btn:hover { transform: translateY(-1px) scale(1.02); box-shadow: 0 14px 24px rgba(184,69,146,0.35); }

/* Contact info */
.contact-list { margin:0; padding:0; }
.ci-item { display:flex; align-items:flex-start; gap:12px; padding:10px 0; }
.ci-icon { font-size:20px; color:#b84592; line-height:1; margin-top:4px; }
.ci-label { font-size:12px; text-transform:uppercase; letter-spacing:.08em; color:#9ca3af; font-weight: 700; }
.ci-text { color:#374151; }

.locate-btn { border-radius: 999px; }

.map-embed iframe { width: 100%; height: 260px; border: 0; border-radius: 12px; box-shadow: 0 6px 18px rgba(0,0,0,0.06); }

/* Social card */
.social-card { padding: 24px; }
.social-icons { display:flex; gap:18px; justify-content:center; }
.social-icon { display:inline-flex; width:44px; height:44px; border-radius:50%; align-items:center; justify-content:center; background:rgba(255,255,255,.85); border:1px solid rgba(0,0,0,0.06); box-shadow: 0 4px 10px rgba(0,0,0,0.06); transition: transform .15s, box-shadow .15s; }
.social-icon:hover { transform: translateY(-2px) scale(1.05); box-shadow: 0 10px 20px rgba(0,0,0,0.10); }

/* Newsletter */
.newsletter-banner { position:relative; overflow:hidden; border-radius:16px; }
.nb-overlay { position:absolute; inset:0; background-size: cover; background-position: center; filter: blur(2px); opacity:.25; }
.nb-content { position:relative; padding: 28px 18px; text-align:center; }
.nb-title { font-size: 28px; margin-bottom: 6px; }
.nb-sub { color:#6b7280; margin-bottom: 12px; }
.nb-form { display:flex; gap:10px; justify-content:center; max-width:660px; margin:0 auto; }
.nb-input { border-radius: 999px; padding: 10px 14px; max-width:420px; }
.nb-btn { border-radius: 999px; }

/* Responsive tweaks */
@media (max-width: 992px){
  .contact-hero { padding: 120px 0 60px; }
}
@media (max-width: 576px){
  .contact-title { font-size: 32px; }
  .nb-form { flex-direction: column; }
  .nb-input, .nb-btn { width:100%; }
}
</style>

<script>
  document.addEventListener('DOMContentLoaded', function(){
    // Input focus animation
    document.querySelectorAll('.zen-input').forEach(function(el){
      el.addEventListener('focus', function(){ this.parentElement.classList.add('focused'); });
      el.addEventListener('blur', function(){ this.parentElement.classList.remove('focused'); });
    });
  });
</script>

{% load site_extras %}
{% delivery_section 'contact' %}
{% endblock %}